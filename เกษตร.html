<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üßë‚Äçüåæ ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ñ‡∏ô‡∏£‡∏±‡∏ö‡∏à‡πâ‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡∏©‡∏ï‡∏£ (Agri-Job Finder)</title>
    
    <style>
        /* -------------------------------------- */
        /* CSS ‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Layout */
        /* -------------------------------------- */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f9;
        }
        .container {
            max-width: 1000px;
            margin: auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #1e7e34;
            text-align: center;
        }
        .search-area {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: #e9ffed;
            align-items: center;
        }
        .search-area button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
        }

        /* -------------------------------------- */
        /* CSS ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Modal/Popup */
        /* -------------------------------------- */
        .modal {
            display: none; 
            position: fixed; 
            z-index: 1000; 
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.7); 
        }
        .modal-content {
            background-color: #fefefe;
            margin: 5% auto; 
            padding: 20px;
            border: 1px solid #888;
            width: 90%;
            max-width: 900px;
            border-radius: 10px;
            box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
            animation-name: animatetop;
            animation-duration: 0.4s
        }
        @keyframes animatetop {
            from {top: -300px; opacity: 0}
            to {top: 5%; opacity: 1}
        }
        .close-btn {
            color: #aaa;
            float: right;
            font-size: 36px;
            font-weight: bold;
        }
        .close-btn:hover, .close-btn:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }

        /* -------------------------------------- */
        /* CSS ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏∞ Job Card ‡πÉ‡∏ô Modal */
        /* -------------------------------------- */
        .content-layout {
            display: flex;
            gap: 20px;
            flex-wrap: wrap; /* ‡πÉ‡∏´‡πâ‡∏´‡∏î‡∏•‡∏á‡∏°‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏à‡∏≠‡πÄ‡∏•‡πá‡∏Å */
        }
        .results-list {
            flex: 1; 
            min-width: 350px;
        }
        .map-column {
            flex: 1; 
            min-width: 400px;
        }
        #map-container {
            width: 100%;
            height: 350px; 
            border: 1px solid #ccc;
            border-radius: 5px;
            overflow: hidden;
            margin-top: 10px;
        }
        .job-card {
            border: 1px solid #ccc;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 5px;
            background-color: #fff;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .job-card h3 {
            color: #0056b3;
            margin-top: 0;
        }
        .job-card span {
            font-weight: bold;
            color: #333;
        }
        .job-card button {
            background-color: #1e7e34;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            float: right;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ñ‡∏ô‡∏£‡∏±‡∏ö‡∏à‡πâ‡∏≤‡∏á/‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡∏©‡∏ï‡∏£</h1>
        <p>‡∏£‡∏∞‡∏ö‡∏∏‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡πâ‡∏≤‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏à‡πâ‡∏≤‡∏á‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà</p>

        <div class="search-area">
            <label for="job-type">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô:</label>
            <select id="job-type" name="job-type">
                <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô --</option>
                <option value="‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≤‡∏ß">‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≤‡∏ß (‡∏Ñ‡∏ô)</option>
                <option value="‡∏£‡∏ñ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß">‡∏Ç‡∏±‡∏ö‡∏£‡∏ñ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß/‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏£‡∏ñ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß</option>
                <option value="‡∏î‡∏≥‡∏ô‡∏≤">‡∏î‡∏≥‡∏ô‡∏≤/‡∏õ‡∏±‡∏Å‡∏î‡∏≥ (‡∏Ñ‡∏ô)</option>
                <option value="‡∏£‡∏ñ‡∏î‡∏≥‡∏ô‡∏≤">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏£‡∏ñ‡∏î‡∏≥‡∏ô‡∏≤</option>
                <option value="‡πÑ‡∏ñ‡∏ô‡∏≤">‡πÑ‡∏ñ‡∏ô‡∏≤/‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏î‡∏¥‡∏ô</option>
                <option value="‡∏â‡∏µ‡∏î‡∏¢‡∏≤">‡∏â‡∏µ‡∏î‡∏û‡πà‡∏ô‡∏™‡∏≤‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ/‡πÇ‡∏î‡∏£‡∏ô</option>
                <option value="‡∏≠‡∏∑‡πà‡∏ô‡πÜ">‡∏≠‡∏∑‡πà‡∏ô‡πÜ</option>
            </select>

            <label for="location">‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà/‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î:</label>
            <input type="text" id="location" name="location" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏•‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠ ‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô">

            <button onclick="searchJobs()">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
        </div>
        
        <p></p>
    </div>

    <div id="resultsModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <h2>‚úÖ ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà: <span id="modalLocationHeader"></span></h2>
            <p><strong>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤:</strong> <span id="modalJobTypeHeader"></span></p>

            <div class="content-layout">
                
                <div class="results-list">
                    <div id="modalResultsBody">
                        <div class="job-card">
                            <h3>‡∏ô‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏±‡∏¢ ‡∏û‡∏∑‡∏ä‡∏ú‡∏• (‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô‡∏î‡∏≥‡∏ô‡∏≤)</h3>
                            <p><span>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô:</span> ‡∏î‡∏≥‡∏ô‡∏≤/‡∏õ‡∏±‡∏Å‡∏î‡∏≥ | <span>‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£:</span> **‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡πÄ‡∏•‡∏¢**</p>
                            <p>‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏Å‡∏ß‡πà‡∏≤ 10 ‡∏õ‡∏µ ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏ú‡∏•‡∏á‡∏≤‡∏ô ‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤</p>
                            <button onclick="contact(4)">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</button>
                        </div>
                        <div class="job-card">
                            <h3>‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó ‡∏™‡∏¢‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≤‡∏ß ‡∏à‡∏≥‡∏Å‡∏±‡∏î</h3>
                            <p><span>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô:</span> ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏£‡∏ñ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß | <span>‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£:</span> **‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô**</p>
                            <p>‡∏£‡∏ñ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏£‡∏∏‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà ‡∏£‡∏∞‡∏ö‡∏ö GPS ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ ‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡∏†‡∏≤‡∏Ñ‡∏≠‡∏µ‡∏™‡∏≤‡∏ô</p>
                            <button onclick="contact(5)">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</button>
                        </div>
                        </div>
                </div>

                <div class="map-column">
                    <h2>üìç ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</h2>
                    <div id="map-container">
                        <iframe 
                            id="map-iframe"
                            width="100%" 
                            height="100%" 
                            frameborder="0" 
                            style="border:0" 
                            src="http://googleusercontent.com/maps.google.com/5" 
                            allowfullscreen>
                        </iframe>
                    </div>
                    <small>‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏á **<span id="mapLocationName">‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢</span>**</small>
                </div>

            </div>
        </div>
    </div>

    <script>
       // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏õ‡∏¥‡∏î Modal
function openModal() {
    document.getElementById('resultsModal').style.display = 'block';
}

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏õ‡∏¥‡∏î Modal
function closeModal() {
    document.getElementById('resultsModal').style.display = 'none';
}

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà (‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡∏ò‡∏µ Google Maps Embed ‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ API Key)
function updateMap(locationName) {
    const mapIframe = document.getElementById('map-iframe');
    
    // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ URL ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á Google Maps Embed API
    const baseUrl = 'https://www.google.com/maps/embed/v1/place?key=&q='; // **‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÄ‡∏£‡∏≤‡πÄ‡∏ß‡πâ‡∏ô 'key=' ‡πÑ‡∏ß‡πâ ‡∏´‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÄ‡∏û‡∏¥‡πà‡∏° API Key ‡πÉ‡∏ô‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á

    if (locationName) {
        // 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á Query ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î (‡πÄ‡∏ä‡πà‡∏ô "‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î")
        const searchQuery = encodeURIComponent(locationName + ' ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î');
        
        // 2. ‡∏™‡∏£‡πâ‡∏≤‡∏á URL ‡∏à‡∏£‡∏¥‡∏á: ‡πÉ‡∏ä‡πâ 'place' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ 'zoom=10'
        // ‡πÄ‡∏£‡∏≤‡πÉ‡∏ä‡πâ output=embed ‡πÅ‡∏•‡∏∞ zoom=10 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÅ‡∏•‡∏∞‡∏ã‡∏π‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î
        const mapUrl = `${baseUrl}${searchQuery}&zoom=10`;
        
        mapIframe.src = mapUrl;
        document.getElementById('mapLocationName').innerText = locationName + ' ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î';
    } else {
        // ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô (‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ Thailand)
        const defaultUrl = `${baseUrl}Thailand&zoom=5`;
        
        mapIframe.src = defaultUrl;
        document.getElementById('mapLocationName').innerText = '‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢';
    }
}

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
function searchJobs() {
    const jobType = document.getElementById('job-type').value;
    const locationInput = document.getElementById('location').value.trim();
    
    // 1. ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ô Modal
    updateMap(locationInput); 

    // 2. ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Header ‡πÉ‡∏ô Modal
    document.getElementById('modalJobTypeHeader').innerText = jobType || '‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏á‡∏≤‡∏ô';
    document.getElementById('modalLocationHeader').innerText = locationInput || '‡∏ó‡∏∏‡∏Å‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà';
    
    // 3. ‡πÄ‡∏õ‡∏¥‡∏î Popup/Modal
    openModal();

    // 4. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏õ‡∏¥‡∏î Modal ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ô‡∏≠‡∏Å‡∏Å‡∏•‡πà‡∏≠‡∏á (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ)
    window.onclick = function(event) {
        const modal = document.getElementById('resultsModal');
        if (event.target == modal) {
            closeModal();
        }
    }
}

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠
function contact(jobId) {
    alert("‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏à‡πâ‡∏≤‡∏á ID: " + jobId + " (‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£/‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÅ‡∏ä‡∏ó)");
}

// ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏´‡πâ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤
document.addEventListener('DOMContentLoaded', () => {
     updateMap(""); 
});
    </script>
</body>
</html>